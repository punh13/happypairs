<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>HappyPairs</title>
    <link href="https://fonts.cdnfonts.com/css/gaitera-ball" rel="stylesheet" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=League+Spartan:wght@100..900&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css"
    />
    <link rel="stylesheet" href="../shared.css" />
    <link rel="stylesheet" href="login.css" />
    <script src="../script/app.js" defer></script>
    <script src="login.js" defer></script>
  </head>
  <body>
    <header class="main-header">
      <nav class="navbar">
        <a href="../index.html"
          ><img class="logo" src="../images/logo.png" alt=""
        /></a>
        <ul class="navbar-items">
          <li><a href="../index.html">Home</a></li>
          <li><a href="../shop/shop.html">Shop</a></li>
          <li><a href="../blog/blog.html">Blog</a></li>
          <li><a href="../about/about.html">About</a></li>
          <li><a class="active" href="../login/login.html">Login</a></li>
          <li><a href="../cart/cart.html">Cart(<span id="cart-items">0</span>)</a></li>
          <li id="close">x</li>
        </ul>
        <div class="navbar-mobile">
          <a href="../cart/cart.html"><i class="bi bi-bag">
            <span id="mobile-cart-items">0</span>
          </i></a>
          <i class="bi bi-list menu-btn"></i>
        </div>
      </nav>
    </header>

    <section class="banner">
      <h1>SIGN IN&UP</h1>
    </section>

    <main>
      <div class="main-forms">
        <form class="form-sign-in forms" onsubmit="return handleSubmit(event)">
          <h2>SIGN IN</h2>
          <input placeholder="email" id="email" />
          <input type="password" placeholder="password" id="password" />
          <button>LET'S GO</button>
        </form>
        <form class="form-sign-up forms" action="">
          <h2>SIGN UP</h2>
          <input type="text" placeholder="name" />
          <input type="email" placeholder="email" />
          <input type="password" placeholder="password" />
          <div class="terms">
            <input type="checkbox" id="terms" name="terms" required />
            <label for="terms"
              >I accept the
              <a href="" target="_blank">Terms and Conditions</a></label
            >
          </div>
          <button id="loginBtn">LET'S GO</button>
        </form>
      </div>
    </main>

    <footer class="footer">
      <div class="footer-main">
        <ul class="footer-main__content">
          <li><a href="">CONTACT</a></li>
          <li><a href="">F.A.Q</a></li>
          <li><a href="">SHIPPING</a></li>
          <li><a href="">SAMPLE POLICY</a></li>
          <li><a href="">PAYMENT</a></li>
          <li><a href="">TERMS & CONDITONS</a></li>
        </ul>
        <form action="" class="footer-main__form">
          <h1>SIGN UP FOR NEWSTELLER</h1>
          <div class="newsteller">
            <input type="email" class="input" placeholder="EMAIL" />
            <button type="submit">SUBSCRIBE</button>
          </div>
        </form>
      </div>
      <div class="footer-second">
        <div class="footer-second__content">
          <a href=""><i class="bi bi-instagram"></i></a>
          <a href=""><i class="bi bi-facebook"></i></a>
          <a href=""><i class="bi bi-twitter-x"></i></a>
        </div>
        <p>2024 HappyPairs. All rights reserved.</p>
      </div>
    </footer>
    <script>
      const loginBtn = document.querySelector('#loginBtn');

      const token = localStorage.getItem('token')

      if (token) console.log('logged in')
      // loginBtn.addEventListener('click', () => {

      //   const email = document.querySelector('#email').value
      //   const password = document.querySelector('#password').value

      //   console.log(email, password)
      // })

      function handleSubmit(e) {
        e.preventDefault();

        const email = document.querySelector('#email').value;
        const password = document.querySelector('#password').value;

        console.log(email, password);

        fetch('https://dummyjson.com/auth/login', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({
            username: 'emilys',
            password: 'emilyspass',
            expiresInMins: 30, // optional, defaults to 60
          }),
        })
        .then(res => res.json())
    .then(data => {
        console.log('inside then');
        const response = data; // data contains the parsed JSON response
        console.log(response);

        localStorage.setItem('token', response.token)
    })
          // .catch(err => {
          //   console.log('inside catch', err)
          // });
      }
    </script>
  </body>
</html>
